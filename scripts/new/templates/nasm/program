;-----------------------------------------------------------------------------
; %(module).asm - Add a short description here&(FILENAME=$(echo $module).asm)
;-----------------------------------------------------------------------------
;
; Author: %(author)
;
; Add a more elaborate description here, if you feel like it.
;
;-----------------------------------------------------------------------------


;-----------------------------------------------------------------------------
; CONSTANTS
;-----------------------------------------------------------------------------
%define SYS_EXIT              1 ; exit system call


;-----------------------------------------------------------------------------
; MACROS
;-----------------------------------------------------------------------------

;-----------------------------------------------------------------------------
; SYSCALL1
; invoke system call with one parameter
; C syntax -> syscall(number, param1)
;-----------------------------------------------------------------------------
%macro SYSCALL1 2
        mov     ebx, %2
        mov     eax, %1
        int     0x80
%endmacro


;-----------------------------------------------------------------------------
; Section DATA
;-----------------------------------------------------------------------------
SECTION .data
; empty


;-----------------------------------------------------------------------------
; Section BSS
;-----------------------------------------------------------------------------
SECTION .bss
;empty


;-----------------------------------------------------------------------------
; Section TEXT
;-----------------------------------------------------------------------------
SECTION .text

        ;-----------------------------------------------------------
        ; PROGRAM'S START ENTRY
        ;-----------------------------------------------------------
        global _start:function
_start:
        ; Add the program's body here

        ;-----------------------------------------------------------
        ; call system exit and return to operating system / shell
        ;-----------------------------------------------------------
_exit:  ; create label before program exit for the gdb script
        SYSCALL1 SYS_EXIT, 0
        ;-----------------------------------------------------------
        ; END OF PROGRAM
        ;-----------------------------------------------------------
